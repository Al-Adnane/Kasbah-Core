<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kasbah — Runtime protection for AI agents</title>
  <meta name="description" content="Cryptographic enforcement before every AI action. Demo-first. No fluff." />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap');
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,system-ui,sans-serif;background:#0F172A;color:#fff;line-height:1.6}
    .wrap{max-width:1100px;margin:auto;padding:40px 20px}
    h1{font-size:clamp(34px,6vw,62px);font-weight:900;margin-bottom:12px;text-align:center}
    .lead{text-align:center;font-size:20px;opacity:.78;max-width:760px;margin:0 auto 22px}
    .cta{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;margin-bottom:26px}
    .btn{padding:14px 22px;border-radius:10px;font-weight:700;cursor:pointer;border:none;background:#C1440E;color:#fff;text-decoration:none;display:inline-block}
    .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,.28)}
    #demo{padding-top:24px}
    .grid{display:grid;gap:18px}
    @media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
    .card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.10);border-radius:14px;padding:18px}
    .card h3{margin-bottom:8px}
    .terminal{background:#000;border-radius:10px;padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:13px;white-space:pre-wrap;margin-top:10px;min-height:110px;border:1px solid rgba(255,255,255,.14)}
    details{margin-top:22px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:16px}
    summary{cursor:pointer;font-weight:800}
    footer{text-align:center;opacity:.6;font-size:13px;padding:50px 20px 20px}
  </style>
</head>
<body>
  <!-- LIVE_MARKER_DOCS_DEMO_V2 -->

  <div class="wrap">
    <h1>AI agents are getting dangerously smart</h1>
    <p class="lead">
      Once an agent has credentials, auth alone can’t stop the wrong action.<br/>
      Kasbah enforces cryptographic proof <strong>before execution</strong>.
    </p>
    <div class="cta">
      <button class="btn" onclick="document.getElementById('demo').scrollIntoView({behavior:'smooth'})">Try the demo ↓</button>
      <a class="btn secondary" href="https://github.com/Al-Adnane/Kasbah-Core" target="_blank" rel="noreferrer">GitHub</a>
      <a class="btn secondary" href="https://github.com/Al-Adnane/Kasbah-Core/issues/new/choose" target="_blank" rel="noreferrer">Feedback</a>
    </div>
  </div>

  <div id="demo" class="wrap">
    <div class="grid">
      <div class="card">
        <h3>Safe execution</h3>
        <button class="btn" onclick="runSafe()">Run safe flow</button>
        <div class="terminal" id="out1">—</div>
      </div>

      <div class="card">
        <h3>Replay attack</h3>
        <button class="btn" onclick="runReplay()">Try replay</button>
        <div class="terminal" id="out2">—</div>
      </div>

      <div class="card">
        <h3>Tool swap attack</h3>
        <button class="btn" onclick="runSwap()">Try tool swap</button>
        <div class="terminal" id="out3">—</div>
      </div>

      <div class="card">
        <h3>Full protocol</h3>
        <button class="btn" onclick="runFull()">Run full flow</button>
        <div class="terminal" id="out4">—</div>
      </div>
    </div>

    <details>
      <summary>How this works (optional)</summary>
      <div style="margin-top:10px;opacity:.8">
        This is a guided simulator. In production, Kasbah enforces cryptographic, single-use,
        tool-bound execution tickets at the API layer. Replay and tool-swap are denied at runtime
        even after authentication.
      </div>
    </details>
  </div>

  <footer>Built in Rabat · MIT License · Demo-first page</footer>

  <script>
    let used = false;
    function out(id, t){ document.getElementById(id).textContent = t; }

    function runSafe(){
      used = false;
      out('out1', "DECIDE  ✅ allow\nTICKET  ✅ issued (tool-bound, ttl)\nCONSUME ✅ allowed (1/1)\nAUDIT   ✅ appended");
    }

    function runReplay(){
      if (!used){ used = true; out('out2', "CONSUME ✅ allowed (first use)\nCONSUME ❌ denied (second use)\nreason=ticket_already_consumed"); }
      else { out('out2', "CONSUME ❌ denied\nreason=ticket_already_consumed"); }
    }

    function runSwap(){
      out('out3', "DECIDE  ✅ allow tool=db.query\nCONSUME ❌ denied\nreason=tool_mismatch (expected db.query, got shell.exec)");
    }

    function runFull(){
      out('out4', "DECIDE → ALLOW\nTICKET → SIGNED\nVERIFY → OK\nCONSUME → OK\nAUDIT → HASH-CHAINED");
    }
  </script>
</body>
</html>
