<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kasbah ‚Äì Stop your AI from going rogue</title>
  <meta name="description" content="Runtime enforcement for AI agents ‚Äî cryptographic proof before every tool execution." />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root{
      --kasbah-red:#C1440E; --desert-sky:#1E3A8A; --fortress-stone:#D4C5B9; --midnight:#0F172A;
      --panel: rgba(15, 23, 42, 0.82);
      --panel-border: rgba(212, 197, 185, 0.16);
      --muted: rgba(255,255,255,0.68);
    }
    body{ font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--midnight); color:#fff; line-height:1.55; overflow-x:hidden; }
    .glow-bg{
      position:fixed; inset:0; z-index:-1;
      background:
        radial-gradient(circle at 20% 30%, rgba(193, 68, 14, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(30, 58, 138, 0.15) 0%, transparent 50%);
      animation:pulse 14s ease-in-out infinite;
    }
    @keyframes pulse{ 0%,100%{opacity:.42} 50%{opacity:.62} }
    .container{ max-width:1100px; margin:0 auto; padding:0 24px; }

    /* Hero (short) */
    .hero{ padding:72px 24px 28px; text-align:center; }
    .fortress-icon{ width:72px; height:72px; margin:0 auto 18px; filter: drop-shadow(0 4px 20px rgba(193, 68, 14, 0.42)); }
    .brand{ font-size:12px; font-weight:700; letter-spacing:.14em; color:var(--fortress-stone); text-transform:uppercase; margin-bottom:18px; }
    h1{ font-size:clamp(34px, 6.2vw, 64px); font-weight:900; letter-spacing:-0.02em; line-height:1.05; margin-bottom:14px; }
    .gradient-text{
      background:linear-gradient(135deg, var(--kasbah-red) 0%, #ff6b35 100%);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    }
    .lead{ max-width:820px; margin:0 auto 22px; font-size:clamp(16px, 2.3vw, 22px); color:var(--muted); font-weight:350; }
    .cta-group{ display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:18px; }
    .btn{
      padding:14px 22px; border-radius:10px; font-size:15px; font-weight:700;
      cursor:pointer; transition:transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease, border-color .18s ease;
      border:none; font-family:inherit; text-decoration:none; display:inline-block;
    }
    .btn-primary{ background:var(--kasbah-red); color:#fff; box-shadow:0 10px 28px rgba(193,68,14,.28); }
    .btn-primary:hover{ transform:translateY(-1px); box-shadow:0 16px 40px rgba(193,68,14,.36); }
    .btn-secondary{ background:transparent; color:var(--fortress-stone); border:2px solid rgba(212,197,185,.55); }
    .btn-secondary:hover{ background:rgba(212,197,185,.08); color:#fff; border-color:rgba(212,197,185,.85); }

    /* Demo */
    .demo-section{ padding:42px 24px 88px; }
    .section-header{ text-align:center; margin-bottom:22px; }
    .section-header h2{ font-size:clamp(28px, 4.8vw, 44px); font-weight:900; margin-bottom:10px; }
    .section-header p{ color:rgba(255,255,255,.6); font-size:17px; }

    .output{
      max-width:980px; margin:18px auto 28px;
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px; padding:14px 14px 10px;
      background:rgba(0,0,0,.28);
    }
    .output-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px; }
    .output-title{ font-weight:800; letter-spacing:.02em; }
    .chip{
      font-size:12px; padding:6px 10px; border-radius:999px;
      border:1px solid rgba(212,197,185,.28); color:rgba(255,255,255,.75);
      background:rgba(255,255,255,.04);
    }
    pre{ margin:0; white-space:pre-wrap; line-height:1.45; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:13px; color:rgba(255,255,255,.88); }

    .demo-grid{ display:grid; grid-template-columns:1fr; gap:18px; max-width:980px; margin:0 auto; }
    @media (min-width: 900px){ .demo-grid{ grid-template-columns:1fr 1fr; } }

    .card{
      background:var(--panel);
      border:1px solid var(--panel-border);
      border-radius:14px;
      padding:22px;
      transition: transform .18s ease, border-color .18s ease;
      backdrop-filter: blur(16px);
    }
    .card:hover{ transform: translateY(-2px); border-color: rgba(212,197,185,.28); }
    .card-header{ display:flex; align-items:center; gap:12px; margin-bottom:10px; }
    .dot{ width:10px; height:10px; border-radius:50%; }
    .dot.green{ background:var(--desert-sky); box-shadow:0 0 16px rgba(30,58,138,.55); }
    .dot.red{ background:var(--kasbah-red); box-shadow:0 0 16px rgba(193,68,14,.55); }
    .card h3{ font-size:18px; font-weight:800; }
    .explain{ color:rgba(255,255,255,.62); font-size:14px; margin:8px 0 14px; line-height:1.65; }
    .mini{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
    .mini .btn{ padding:10px 14px; font-size:13px; border-radius:10px; }

    /* Optional details */
    details{
      max-width:980px; margin:26px auto 0;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
      border-radius:14px; padding:14px 16px;
    }
    summary{ cursor:pointer; font-weight:800; color:rgba(255,255,255,.9); }
    details .sub{ margin-top:10px; color:rgba(255,255,255,.68); font-size:14px; line-height:1.75; }
    code{
      background:rgba(0,0,0,.30);
      padding:2px 6px;
      border-radius:6px;
      color:#ffb09a;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:.95em;
    }
    ul{ margin:10px 0 0 18px; }
    li{ margin:6px 0; }

    footer{
      padding:56px 24px 34px;
      border-top:1px solid rgba(212,197,185,.10);
      text-align:center;
    }
    .footer-links{ display:flex; gap:22px; justify-content:center; flex-wrap:wrap; margin-bottom:18px; }
    .footer-links a{ color:rgba(255,255,255,.62); text-decoration:none; }
    .footer-links a:hover{ color:var(--kasbah-red); }
    .heritage{ color:rgba(212,197,185,.52); font-size:13px; line-height:1.7; }
  </style>
</head>

<body>
  <div class="glow-bg"></div>

  <section class="hero">
    <svg class="fortress-icon" viewBox="0 0 100 80" fill="none" aria-hidden="true">
      <path d="M20 80V30L35 15V5H45V15L50 10L55 15V5H65V15L80 30V80H20Z" fill="#C1440E"/>
      <circle cx="35" cy="45" r="5" fill="#0F172A"/>
      <circle cx="65" cy="45" r="5" fill="#0F172A"/>
      <path d="M40 80V60H60V80" fill="#0F172A"/>
    </svg>

    <div class="brand">üè∞ KASBAH ¬∑ RUNTIME ENFORCEMENT</div>

    <h1>AI agents are getting <span class="gradient-text">dangerously smart</span></h1>

    <p class="lead">
      When an agent has valid credentials, <strong style="color:#fff;">auth alone can‚Äôt stop the wrong action</strong>.<br/>
      Kasbah adds <strong style="color:#fff;">cryptographic proof before execution</strong> ‚Äî tool-bound, single-use, time-boxed.
    </p>

    <div class="cta-group">
      <button class="btn btn-primary" data-action="scroll-demo">Try the demo ‚Üí</button>
      <a class="btn btn-secondary" href="https://github.com/Al-Adnane/Kasbah-Core" target="_blank" rel="noreferrer">GitHub</a>
    </div>
  </section>

  <section class="demo-section" id="demo">
    <div class="container">
      <div class="section-header">
        <h2>Try to break it.</h2>
        <p>Button-only simulator. No signup. Clear outcomes.</p>
      </div>

      <div class="output" aria-live="polite">
        <div class="output-head">
          <div class="output-title">Output</div>
          <div class="chip" id="kasbah-chip">idle</div>
        </div>
        <pre id="kasbah-output">Click a button below.</pre>
      </div>

      <div class="demo-grid">
        <div class="card">
          <div class="card-header"><div class="dot green"></div><h3>Safe flow</h3></div>
          <p class="explain">Ask permission ‚Üí get a signed ticket ‚Üí consume once ‚Üí audited.</p>
          <div class="mini">
            <button class="btn btn-primary" data-flow="safe">Run safe flow</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><div class="dot red"></div><h3>Replay attack</h3></div>
          <p class="explain">Try to reuse a consumed ticket. Denial is irreversible.</p>
          <div class="mini">
            <button class="btn btn-primary" data-flow="replay">Try replay</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><div class="dot red"></div><h3>Tool swap</h3></div>
          <p class="explain">Use a <code>db.query</code> ticket for <code>shell.exec</code>. Cryptographic bind blocks it.</p>
          <div class="mini">
            <button class="btn btn-primary" data-flow="swap">Try tool swap</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header"><div class="dot green"></div><h3>Full protocol</h3></div>
          <p class="explain">Decide ‚Üí verify ‚Üí consume ‚Üí audit chain. Tamper breaks the chain.</p>
          <div class="mini">
            <button class="btn btn-primary" data-flow="full">Run full protocol</button>
          </div>
        </div>
      </div>

      <details>
        <summary>Read the explanation (optional)</summary>
        <div class="sub">
          <p><strong>About this demo</strong>: this is a guided simulator. No real cryptographic checks run in the browser. The enforcement happens in the Kasbah-Core API layer with signed, tool-bound, single-use execution tickets and stateful verification.</p>
          <p style="margin-top:10px;"><strong>Mundane failure mode (before ‚Üí after)</strong></p>
          <p><strong>Today (no Kasbah):</strong> an agent with valid access makes a ‚Äúhelpful‚Äù mistake (wrong customer, stale context, name collision) and executes <code>billing.refund</code> on the wrong account. Nothing was hacked ‚Äî it‚Äôs a runtime failure.</p>
          <p style="margin-top:10px;"><strong>With Kasbah:</strong> the agent can‚Äôt execute directly. It must present a ticket bound to the exact tool, context, and TTL. Kasbah enforces:</p>
          <ul>
            <li><strong>Tool binding</strong> (no privilege escalation)</li>
            <li><strong>Single-use</strong> (no replay / no infinite loops)</li>
            <li><strong>Time box</strong> (stale context dies)</li>
            <li><strong>Stateful enforcement</strong> (near-misses trigger lockdown)</li>
          </ul>
        </div>
      </details>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-links">
        <a href="https://github.com/Al-Adnane/Kasbah-Core">GitHub</a>
        <a href="https://github.com/Al-Adnane/Kasbah-Core#readme">Docs</a>
        <a href="https://github.com/Al-Adnane/Kasbah-Core/issues/new/choose">Give Feedback</a>
      </div>
      <div class="heritage">
        <p style="font-size:18px; margin-bottom:6px; color:var(--desert-sky);">ŸÇÿµÿ®ÿ©</p>
        <p>Heritage Architecture ¬∑ Future Intelligence</p>
        <p style="margin-top:6px; opacity:.72;">MIT Licensed ¬∑ Built in Morocco ¬∑ Demo-first page</p>
      </div>
    </div>
  </footer>

  <script>
    (function(){
      const outEl = document.getElementById('kasbah-output');
      const chip = document.getElementById('kasbah-chip');

      function setChip(v){ chip.textContent = v; }
      function setOut(text){ outEl.textContent = text; }
      function scrollDemo(){
        const d = document.getElementById('demo');
        if (d) d.scrollIntoView({behavior:'smooth', block:'start'});
      }

      const flows = {
        safe: [
          'DECIDE  ‚úÖ allow   tool=db.query   agent=support-bot',
          'TICKET  ‚úÖ issued  tool-bound, single-use, ttl=60s',
          'VERIFY  ‚úÖ signature valid; tool match; ttl valid',
          'CONSUME ‚úÖ allowed (1/1)',
          'AUDIT   ‚úÖ appended (hash-chained)',
          '',
          'Result: action executed under proof, not trust.'
        ].join('\n'),
        replay: [
          'CONSUME ‚úÖ allowed (first use)',
          'CONSUME ‚ùå denied  reason=ticket_already_consumed',
          '',
          'Invariant: single-use tickets ‚Üí replay blocked (irreversible).'
        ].join('\n'),
        swap: [
          'DECIDE  ‚úÖ allow   tool=db.query',
          'CONSUME ‚ùå denied  reason=tool_mismatch (expected db.query, got shell.exec)',
          '',
          'Invariant: tool binding ‚Üí privilege escalation blocked.'
        ].join('\n'),
        full: [
          'DECIDE  ‚úÖ allow  (signals ‚Üí integrity score)',
          'TICKET  ‚úÖ signed + tool-bound + ttl',
          'VERIFY  ‚úÖ signature valid; ttl valid; tool match',
          'CONSUME ‚úÖ single-use consumed',
          'AUDIT   ‚úÖ hash-chained ledger append',
          '',
          'Tamper test: change one event ‚Üí chain verification fails.'
        ].join('\n')
      };

      document.addEventListener('click', (e) => {
        const el = e.target.closest('[data-action],[data-flow]');
        if (!el) return;

        const action = el.getAttribute('data-action');
        const flow = el.getAttribute('data-flow');

        if (action === 'scroll-demo') {
          e.preventDefault();
          scrollDemo();
          return;
        }

        if (flow && flows[flow]) {
          e.preventDefault();
          setChip(flow);
          setOut(flows[flow]);
          scrollDemo();
        }
      });

      setChip('idle');
      setOut('Click a button below.');
    })();
  </script>
</body>
</html>
